(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[941],{109:(e,t,r)=>{"use strict";e.exports=r.p+"6edccfdb0aa86b6a6709.png"},728:(e,t,r)=>{"use strict";e.exports=r.p+"6dca587935e44220e60c.png"},1941:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var n=r(6540),a=r(2959),l=r(6858),o=r(1453),s=r(431),c=r(8861),i=r(5124),d=r(5072),m=r.n(d),u=r(7825),p=r.n(u),f=r(7659),y=r.n(f),h=r(5056),g=r.n(h),E=r(540),A=r.n(E),b=r(1113),w=r.n(b),x=r(5968),C={};C.styleTagTransform=w(),C.setAttributes=g(),C.insert=y().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=A(),m()(x.Ay,C),x.Ay&&x.Ay.locals&&x.Ay.locals;var v=r(7442),k=r(9504),N=r(7767),F=r(2412),D=r(8516),L=r(2483),P=r(1030),S=r(2139),O=r(6062),_=r(382),M=r(5481),z=r(8511),T={};T.styleTagTransform=w(),T.setAttributes=g(),T.insert=y().bind(null,"head"),T.domAPI=p(),T.insertStyleElement=A(),m()(z.Ay,T),z.Ay&&z.Ay.locals&&z.Ay.locals;var U=r(106),W=r(4731);U.t1.register(U.PP,U.kc,U.FN,U.No,U.hE,U.m_,U.s$);const I={scales:{y:{beginAtZero:!0}}},Q=({forecast:e,onDelete:t,onRefresh:a,onPrevDay:o,onNextDay:s})=>{const{city:c,date:d,region:m,hourly:u}=e,p=(0,N.Zp)();let f=u.filter((e=>"number"!=typeof e.dt&&e.dt.date===d.date)),y="number"!=typeof f[0].dt&&f[0].dt.date,h="number"!=typeof f[0].dt&&f[0].dt.month,g=f[0].weather[0];const E={labels:f.map((e=>"number"!=typeof e.dt&&e.dt.time)),datasets:[{label:"",data:f.map((e=>"number"!=typeof e.dt&&e.temp)),borderWidth:1,borderColor:"#FF6384",backgroundColor:"#FFB1C1"}]};return n.createElement(F.A,{onClick:()=>p(`/details/${c}`),sx:{width:400,margin:"auto",mt:4,mb:2,boxShadow:3,textDecoration:"none",color:"inherit",cursor:"pointer","&:hover":{boxShadow:6}}},n.createElement(D.A,null,n.createElement(l.A,{className:z.Nr},n.createElement(l.A,null,n.createElement(i.A,{variant:"h5",className:z.UB},c,n.createElement("sup",{className:z.b0},m.country))),n.createElement(l.A,{display:"flex",alignItems:"center"},n.createElement(L.A,{"data-testid":"arrow-left",onClick:e=>{e.stopPropagation(),o("prev",d.date,c)}},n.createElement(_.A,null)),n.createElement(i.A,{variant:"h6"},y+" "+h),n.createElement(L.A,{"data-testid":"arrow-right",onClick:e=>{e.stopPropagation(),s("next",d.date,c)}},n.createElement(M.A,null))),n.createElement(l.A,{className:z.PY},n.createElement(P.A,{title:"Refresh"},n.createElement(L.A,{"data-testid":"refresh",onClick:e=>{e.stopPropagation(),a(c)},size:"small"},n.createElement(O.A,null))),n.createElement(P.A,{title:"Remove"},n.createElement(L.A,{"data-testid":"remove",onClick:e=>{e.stopPropagation(),t(c)},size:"small"},n.createElement(S.A,null))))),n.createElement(l.A,{mt:1,gap:2,className:z.Nr},n.createElement(l.A,{mb:1,className:z.g3},n.createElement(i.A,{variant:"h3",className:z.Vo},f[0].temp,n.createElement("sup",null,"o")),n.createElement(i.A,{variant:"h6"},g.description)),n.createElement(l.A,null,n.createElement("img",{src:r(5336)(`./${g.main.toLowerCase()}.png`),alt:"weather icon",width:100,height:100}))),n.createElement(W.N1,{options:I,data:E})))};var H=r(6773),R=r(5916),G=r(3037),X=r(9530),Y=r(7862);const J=({open:e,onClose:t,onConfirm:r,city:a})=>n.createElement(H.A,{open:e,onClose:t},n.createElement(R.A,null,"Removing"),n.createElement(G.A,null,n.createElement(X.A,null,"Are you sure you want to remove ",n.createElement("strong",null,a),"?")),n.createElement(Y.A,null,n.createElement(s.A,{onClick:t,color:"primary"},"Cancel"),n.createElement(s.A,{onClick:r,color:"error",autoFocus:!0},"Delete"))),V=()=>{const[e,t]=(0,n.useState)(!1),[r,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[p,f]=(0,n.useState)([]),y=(0,n.useRef)(null),[h,{data:g,isLoading:E,isError:A}]=(0,v.kK)(),[b,{data:w,isLoading:C,isError:N}]=(0,v.rC)(),[F,D]=(0,n.useState)(!1),[L,P]=(0,n.useState)(!1),S=(0,n.useCallback)((()=>{const e=r.trim();/^[A-Za-z\s]{1,30}$/.test(e)?(P(!1),h(e)):P(!0)}),[r]),O=(0,n.useCallback)((e=>{h(e)}),[]),_=(0,n.useCallback)((e=>{u(e),t(!0)}),[]),M=(0,n.useCallback)((e=>{const r=(0,k.WX)(),n=r.findIndex((t=>t.city.toLowerCase()===e.toLowerCase()));r.splice(n,1),(0,k.NO)(r),f(r),t(!1),u("")}),[]),z=(0,n.useCallback)(((e,t,r)=>{let n="prev"===e?t-1:t+1;const a=(0,k.WX)();let l=0;const o=a.find(((e,t)=>(l=t,e.city.toLowerCase()===r.toLowerCase())));let s=o.hourly.filter((e=>"number"!=typeof e.dt&&e.dt.date===n));0===s.length&&(n="prev"===e&&"number"!=typeof o.hourly.dt?o.hourly[o.hourly.length-1].dt.date:o.hourly[0].dt.date,s=o.hourly.filter((e=>"number"!=typeof e.dt&&e.dt.date===n)));let c={...o,date:{...o.date,date:n}};a.splice(l,1,c),(0,k.NO)(a),f(a)}),[]);return(0,n.useEffect)((()=>{const e=(0,k.WX)();f(e),y.current&&y.current.focus()}),[]),(0,n.useEffect)((()=>{(A||N)&&D(!0)}),[A,N]),(0,n.useEffect)((()=>{g&&b({lat:g.coord.lat,lon:g.coord.lon})}),[g]),(0,n.useEffect)((()=>{if(w){let e=null;const t=(0,k.WX)(),r=t.findIndex((e=>e.city.toLowerCase()===g.name.toLowerCase()));let n=(0,k.DC)(g.dt),a=[];w.hourly.forEach((e=>{let t={dt:"number"==typeof e.dt?(0,k.DC)(e.dt):e.dt,pressure:e.pressure,temp:Math.round(e.temp),weather:e.weather,wind_speed:e.wind_speed,feels_like:Math.round(e.feels_like),humidity:e.humidity};a.push(t)})),e={coord:g.coord,city:g.name,date:n,temp:w.current.temp.toFixed(0),feels_like:g.main.feels_like,pressure:g.main.pressure,humidity:g.main.humidity,wind_speed:g.main.wind_speed,weather:g.weather,region:g.sys,hourly:a,timezone:w.timezone},-1!==r?t.splice(r,1,e):t.push(e),(0,k.NO)(t),f(t),d("")}}),[w]),n.createElement(a.A,null,n.createElement(a.A,{maxWidth:"sm",className:x.Fo},n.createElement(l.A,{component:"form",className:x.Fl,noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),S()}},n.createElement(o.A,{inputRef:y,label:"Enter your City",variant:"outlined",fullWidth:!0,className:x.FX,value:r,onChange:e=>{d(e.target.value),F&&D(!1),L&&P(!1)},error:L,helperText:L?"Only letters allowed. Length must be 1–30 characters.":""}),n.createElement(s.A,{type:"submit",variant:"contained",color:"primary",className:x.fZ,disabled:E,onClick:S},E||C?n.createElement(c.A,{size:24,color:"inherit"}):"Search"))),F&&n.createElement(l.A,{mt:2,textAlign:"center"},n.createElement(i.A,{color:"error"},(e=>`Error getting the forecast weather for ${e}. Please check the name of the current city that you're looking for!`)(r))),n.createElement(l.A,{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},p.length>0?p.map((e=>n.createElement(Q,{key:e.city,forecast:e,onDelete:e=>_(e),onRefresh:e=>O(e),onPrevDay:(e,t,r)=>z(e,t,r),onNextDay:(e,t,r)=>z(e,t,r)}))):null),n.createElement(J,{open:e,onClose:()=>t(!1),onConfirm:()=>M(m),city:m}))}},5336:(e,t,r)=>{var n={"./clear.png":9903,"./clouds.png":6232,"./rain.png":728,"./sunny.png":109};function a(e){var t=l(e);return r(t)}function l(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=l,e.exports=a,a.id=5336},5968:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,FX:()=>d,Fl:()=>c,Fo:()=>s,fZ:()=>i});var n=r(1601),a=r.n(n),l=r(6314),o=r.n(l)()(a());o.push([e.id,".AHguhDQloYgwXbIJFYdK{color:#09ee60}.qeSluEdrbkN3x7TDFXN2{margin-top:50px;display:flex;justify-content:center;align-items:center}.n3IMO9z8TP0q2UztvrGv{width:100%;display:flex;flex-direction:row;gap:16px;padding:24px;background-color:#f9f9f9;border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,.1)}.LpULYQoelLXuQwtQPc2V{align-self:center;padding:12px 24px}.gtrDdZ8h_LPmLLOZGHGI{background-color:#fff}",""]);var s="qeSluEdrbkN3x7TDFXN2",c="n3IMO9z8TP0q2UztvrGv",i="LpULYQoelLXuQwtQPc2V",d="gtrDdZ8h_LPmLLOZGHGI";const m=o},6232:(e,t,r)=>{"use strict";e.exports=r.p+"376170b91a5752dea3bd.png"},8511:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,Nr:()=>s,PY:()=>d,UB:()=>c,Vo:()=>u,b0:()=>i,g3:()=>m});var n=r(1601),a=r.n(n),l=r(6314),o=r.n(l)()(a());o.push([e.id,".WDW8jkMbgUtGQYYHrjQB{display:flex;justify-content:space-between;align-items:center}.BGydxo9RmW4nSYhBmeGV{font-size:30px}.aFEpHiIUzwJmPJ1Frm65{display:inline-block;padding:3px 5px;background:#e5464f;border-radius:6px;color:#fff;font-weight:500;font-size:12px;line-height:1}.nCgfyTq6ORnv5wuUwQ0A{display:flex;align-items:center;gap:1}.von3AHcQ1hD_M5tETJyU{display:flex;align-items:center;justify-content:space-between}.nR_M6t5OVtze3crcTlfa{display:flex;align-items:center;flex-direction:column}.vFPMMSi_yoHVgoq9NaFu{color:#0404f6}",""]);var s="WDW8jkMbgUtGQYYHrjQB",c="BGydxo9RmW4nSYhBmeGV",i="aFEpHiIUzwJmPJ1Frm65",d="nCgfyTq6ORnv5wuUwQ0A",m="nR_M6t5OVtze3crcTlfa",u="vFPMMSi_yoHVgoq9NaFu";const p=o},9504:(e,t,r)=>{"use strict";r.d(t,{DC:()=>n,NO:()=>l,WX:()=>a,fF:()=>o});let n=function(e){let t=new Date(1e3*e);return{time:t.getHours()+":00",date:t.getDate(),month:["Jan, Feb","Maê","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()-1]}};const a=()=>{const e=localStorage.getItem("weatherHistory");return e?JSON.parse(e):[]},l=e=>{localStorage.setItem("weatherHistory",JSON.stringify(e))},o={scales:{y:{beginAtZero:!0}}}},9903:(e,t,r)=>{"use strict";e.exports=r.p+"6edccfdb0aa86b6a6709.png"}}]);